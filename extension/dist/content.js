(()=>{"use strict";console.log("LockIn content script loaded");let e=location.href;new MutationObserver(()=>{const o=location.href;o!==e&&(e=o,async function(){if(function(){try{return!!chrome?.runtime?.id}catch{return!1}}())try{const e=await chrome.runtime.sendMessage({type:"CHECK_URL",url:window.location.href});e?.shouldBlock&&(window.location.href=chrome.runtime.getURL("blocked.html"))}catch(e){e instanceof Error&&e.message.includes("Extension context invalidated")?console.log("LockIn: Extension was reloaded"):console.error("LockIn: Error checking URL:",e)}else console.log("LockIn: Extension context invalidated, stopping content script")}())}).observe(document,{subtree:!0,childList:!0})})();